spring.application.name=mbl-pdf

# PostgreSQL数据库配置
spring.datasource.url=jdbc:postgresql://localhost:5432/mbl
spring.datasource.driverClassName=org.postgresql.Driver
spring.datasource.username=mbl
spring.datasource.password=mbl

# JPA配置
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# 配置值	行为	适用场景
# create-drop	启动时删除表→创建表，关闭时删除表	    开发测试（数据不重要）
# create	    启动时删除表→创建表，关闭时保留表	    开发测试
# update	    保留现有数据，只更新表结构	        生产环境/需要数据持久化
# validate	    只验证表结构，不修改数据库	        生产环境（表结构稳定）
# none	        不做任何数据库操作	                生产环境（完全手动管理）
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# 服务器配置
server.port=8080

# Spring Boot 文件上传配置（比业务层限制更宽松，用于防止恶意大文件攻击）
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# 服务器超时配置
server.tomcat.connection-timeout=60000
server.tomcat.keep-alive-timeout=60000
server.tomcat.max-keep-alive-requests=100

# Tomcat 大文件上传配置
server.tomcat.max-swallow-size=10MB

# 日志配置
logging.level.com.xxs3315.mbl.pdf=INFO
logging.level.org.springframework.web=INFO

# PostgreSQL连接池配置
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# 图片上传配置
mbl.image.dir=./data/images
# 最大文件大小限制（单位：字节）
# 计算方法：10MB = 10 * 1024 * 1024 = 10485760 字节
# 常用大小参考：
#   100KB = 102400 字节
#   500KB = 512000 字节
#   1MB = 1048576 字节
#   5MB = 5242880 字节  
#   10MB = 10485760 字节
#   20MB = 20971520 字节
#   50MB = 52428800 字节
mbl.image.max-file-size=10485760
# 允许的图片格式（逗号分隔，不区分大小写）
mbl.image.allowed-extensions=jpg,jpeg,png,gif,bmp,webp
